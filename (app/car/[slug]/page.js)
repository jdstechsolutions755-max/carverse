import cars from "@/data/cars.json"
import ThreeCarGLB from "@/components/ThreeCarGLB"
import FuelCalculator from "@/components/FuelCalculator"

export async function generateStaticParams() {
  return cars.map((car) => ({ slug: car.slug }))
}

export default function CarPage({ params }) {
  const car = cars.find((c) => c.slug === params.slug)

  return (
    <main className="p-8 text-white">
      <h1 className="text-3xl font-bold mb-4">{car.brand} {car.model}</h1>
      <ThreeCarGLB modelPath={`/models/${car.slug}.glb`} />
      <div className="mt-6">
        <h2 className="text-xl font-semibold mb-2">Specifications</h2>
        <ul className="grid grid-cols-2 gap-4 text-gray-300">
          <li>âš¡ Range: {car.range} km</li>
          <li>ğŸš€ 0â€“100 km/h: {car.acceleration}</li>
          <li>ğŸ Top Speed: {car.topSpeed}</li>
          <li>ğŸ”‹ Powertrain: {car.powertrain}</li>
          <li>ğŸŒ Market: {car.market}</li>
        </ul>
      </div>

      <FuelCalculator range={car.range} efficiency={car.efficiency} />
    </main>
  )
}
